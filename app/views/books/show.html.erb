
<div class="container">
    <%= flash[:mkBookSuccess] %>
    <%= flash[:editBookSuccess] %>
    <%= flash[:editBookError] %>

    <div class="row">
        <div class="side-bar col-md-3">
                <%= render 'users/profile', user: @book.user %>
                <% if @book.user == current_user %>
                    <%= link_to edit_user_path(@book.user) do %>
                        <button type="button" class="btn btn-secondary">
                            <i class="fa-solid fa-user-gear"></i>
                        </button>
                    <% end %>
                <% else %>
                    <%= link_to edit_user_path(@book.user) do %>
                        <button type="button" class="btn btn-secondary">
                            <i class="fa-solid fa-user-gear"></i>
                        </button>
                    <% end %>
                <% end %>
                <%= render 'mkbook', book: @mkbook %>
        </div>

        <div class="user-container col-md-8 offset-md-1">
            <h1>Book detail</h1>
            <table class="table table-striped">
                <tbody>
                    <tr>
                        <td>
                            <%= link_to user_path(@book.user_id) do %>
                                <%= image_tag @book.user.get_profile_image(100,100) %>
                                <br>
                                <%= link_to @book.user.name, user_path(@book.user_id) %>
                            <% end %>
                        </td>
                        <td> <%= @book.title %></td>
                        <td> <%= @book.body %></td>
                        <td>
                            <% if @book.user == current_user %>
                                <%= link_to "Edit", edit_book_path(@book.id) %>
                            <% end %>
                        </td>
                        <td>
                            <% if @book.user == current_user %>
                                <%= link_to "Destroy", book_path(@book), method: :delete, data: {confirm: "本当に削除しますか？"} %>
                            <% end %>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>